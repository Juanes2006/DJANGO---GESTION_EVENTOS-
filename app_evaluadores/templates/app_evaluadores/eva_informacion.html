{% extends 'app_main/base.html' %} {% load static %} {% block eventos_url %} {% url 'main:visitante' %} {% endblock %} {% block eventos_text %} InformaciÃ³n Evaluador {% endblock %} {% block content %}
<div class="container mt-4">
    <h2 class="text-center">ğŸ§¾ Consultar Asignaciones como Evaluador</h2>

    <form method="POST" class="mb-4">
        {% csrf_token %}
        <div class="input-group">
            <input type="text" name="eva_id" class="form-control" placeholder="Ingrese su ID de evaluador" required>
            <button type="submit" class="btn btn-primary">Consultar</button>
        </div>
    </form>

    {% if evaluador %}
    <div class="card shadow-sm">
        <div class="card-body">
            <h4 class="card-title">ğŸ‘¤ InformaciÃ³n Personal-Evaluador</h4>
            <p><strong>ID:</strong> {{ evaluador.eva_id }}</p>
            <p><strong>Nombre:</strong> {{ evaluador.eva_nombre }}</p>
            <p><strong>Correo:</strong> {{ evaluador.eva_correo }}</p>
        </div>
    </div>

    <div class="mt-4">
        <h4>ğŸ“… Eventos en los que estÃ¡s asignado como evaluador</h4>
        {% if eventos_asignados %}
        <ul class="list-group">
            {% for evento in eventos_asignados %}
            <li class="list-group-item">
                <strong>ğŸ“Œ Evento:</strong> {{ evento.evento.eve_nombre }} <br>
                <strong>ğŸ“… Fecha de inicio:</strong> {{ evento.evento.eve_fecha_inicio }} <br>
                <strong>ğŸ“ Ciudad:</strong> {{ evento.evento.eve_ciudad }} <br>
                <strong>ğŸ“Œ Estado:</strong> {% if evento.eva_estado == 'ACEPTADO' %}
                <span class="badge bg-success">âœ… Aceptado</span> {% elif evento.eva_estado == 'PENDIENTE' %}
                <span class="badge bg-warning text-dark">â³ Pendiente</span> {% else %}
                <span class="badge bg-danger">âŒ Rechazado</span> {% endif %}
                <br> {% if evento.eva_eve_documentos %}
                <strong>ğŸ“‚ Documento:</strong>
                <a href="{{ evento.eva_eve_documentos.url }}" target="_blank">ğŸ“„ Ver Documento</a> {% else %}
                <p class="text-muted">No se han cargado documentos.</p>
                {% endif %}

                <br> {% if evento.archivo_programacion %}
                <a href="{{ evento.archivo_programacion.url }}" target="_blank" class="btn btn-outline-success mt-2">ğŸ“„ Ver Archivo de ProgramaciÃ³n</a> {% else %}
                <p class="text-muted">No hay archivo de programaciÃ³n disponible.</p>
                {% endif %}

                <br>

                <!-- ğŸŸ¡ Editar InformaciÃ³n del Evaluador -->
                <a href="{% url 'evaluadores:modificar_evaluador' user_id=evaluador.eva_id evento_id=evento.evento.eve_id %}" class="btn btn-warning mt-2">
    âœï¸ Editar InformaciÃ³n
</a>

                <!-- ğŸ”´ Cancelar AsignaciÃ³n como Evaluador -->
                <a href="{% url 'evaluadores:cancelar_inscripcion' evento_id=evento.evento.eve_id user_id=evaluador.eva_id %}" class="btn btn-danger mt-2" onclick="return confirm('Â¿EstÃ¡s seguro de cancelar tu asignaciÃ³n como evaluador?');">
    âŒ Cancelar AsignaciÃ³n
</a>

                <!-- ğŸ”µ Ver Participantes del Evento -->
                <a class="btn btn-primary " href="{% url 'evaluadores:gestionar_inscripciones' evento.evento.eve_id %}">
    ğŸ‘¥ Ver Participantes
</a>

            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="text-muted">No estÃ¡s asignado a ningÃºn evento.</p>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}